// Code generated by pulumi-language-go DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package iam

import (
	"context"
	"reflect"

	"errors"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
	"github.com/pulumiverse/pulumi-unifi/sdk/go/unifi/internal"
)

// The `iam.User` resource manages network clients in the UniFi controller, which are identified by their unique MAC addresses.
//
// This resource allows you to manage:
//   - Fixed IP assignments
//   - User groups and network access
//   - Network blocking and restrictions
//   - Local DNS records
//
// Important Notes:
//   - Users are automatically created in the controller when devices connect to the network
//   - By default, this resource can take over management of existing users (controlled by `allowExisting`)
//   - Users can be 'forgotten' on destroy (controlled by `skipForgetOnDestroy`)
//
// This resource is particularly useful for:
//   - Managing static IP assignments
//   - Implementing access control
//   - Setting up local DNS records
//   - Organizing devices into user groups
//
// ## Example Usage
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//	"github.com/pulumiverse/pulumi-unifi/sdk/go/unifi/iam"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			_, err := iam.NewUser(ctx, "test", &iam.UserArgs{
//				Mac:       pulumi.String("01:23:45:67:89:AB"),
//				Name:      pulumi.String("some client"),
//				Note:      pulumi.String("my note"),
//				FixedIp:   pulumi.String("10.0.0.50"),
//				NetworkId: pulumi.Any(myVlan.Id),
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
type User struct {
	pulumi.CustomResourceState

	// Allow this resource to take over management of an existing user in the UniFi controller. When true:
	//   * The resource can manage users that were automatically created when devices connected
	//   * Existing settings will be overwritten with the values specified in this resource
	//   * If false, attempting to manage an existing user will result in an error
	//
	// Use with caution as it can modify settings for devices already connected to your network.
	AllowExisting pulumi.BoolPtrOutput `pulumi:"allowExisting"`
	// When true, this client will be blocked from accessing the network. Useful for temporarily or permanently restricting network access for specific devices.
	Blocked pulumi.BoolPtrOutput `pulumi:"blocked"`
	// Override the device fingerprint.
	DevIdOverride pulumi.IntPtrOutput `pulumi:"devIdOverride"`
	// A static IPv4 address to assign to this client. Ensure this IP is within the client's network range and not already assigned to another device.
	FixedIp pulumi.StringPtrOutput `pulumi:"fixedIp"`
	// The hostname of the user.
	Hostname pulumi.StringOutput `pulumi:"hostname"`
	// The IP address of the user.
	Ip pulumi.StringOutput `pulumi:"ip"`
	// A local DNS hostname for this client. When set, other devices on the network can resolve this name to the client's IP address (e.g., 'printer.local', 'nas.home.arpa'). Such DNS record is automatically added to controller's DNS records.
	LocalDnsRecord pulumi.StringPtrOutput `pulumi:"localDnsRecord"`
	// The MAC address of the device/client. This is used as the unique identifier and cannot be changed after creation. Must be a valid MAC address format (e.g., '00:11:22:33:44:55'). MAC addresses are case-insensitive.
	Mac pulumi.StringOutput `pulumi:"mac"`
	// A friendly name for the device/client. This helps identify the device in the UniFi interface (eg. 'Living Room TV', 'John's Laptop').
	Name pulumi.StringOutput `pulumi:"name"`
	// The ID of the network this client should be associated with. This is particularly important when using VLANs or multiple networks.
	NetworkId pulumi.StringPtrOutput `pulumi:"networkId"`
	// Additional information about the client that you want to record (e.g., 'Company asset tag #12345', 'Guest device - expires 2024-03-01').
	Note pulumi.StringPtrOutput `pulumi:"note"`
	// The name of the UniFi site where this user should be managed. If not specified, the default site will be used.
	Site pulumi.StringOutput `pulumi:"site"`
	// When false (default), the client will be 'forgotten' by the controller when this resource is destroyed. Set to true to keep the client's history in the controller after the resource is removed from Terraform.
	SkipForgetOnDestroy pulumi.BoolPtrOutput `pulumi:"skipForgetOnDestroy"`
	// The ID of the user group this client belongs to. User groups can be used to apply common settings and restrictions to multiple clients.
	UserGroupId pulumi.StringPtrOutput `pulumi:"userGroupId"`
}

// NewUser registers a new resource with the given unique name, arguments, and options.
func NewUser(ctx *pulumi.Context,
	name string, args *UserArgs, opts ...pulumi.ResourceOption) (*User, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.Mac == nil {
		return nil, errors.New("invalid value for required argument 'Mac'")
	}
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource User
	err := ctx.RegisterResource("unifi:iam/user:User", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetUser gets an existing User resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetUser(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *UserState, opts ...pulumi.ResourceOption) (*User, error) {
	var resource User
	err := ctx.ReadResource("unifi:iam/user:User", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering User resources.
type userState struct {
	// Allow this resource to take over management of an existing user in the UniFi controller. When true:
	//   * The resource can manage users that were automatically created when devices connected
	//   * Existing settings will be overwritten with the values specified in this resource
	//   * If false, attempting to manage an existing user will result in an error
	//
	// Use with caution as it can modify settings for devices already connected to your network.
	AllowExisting *bool `pulumi:"allowExisting"`
	// When true, this client will be blocked from accessing the network. Useful for temporarily or permanently restricting network access for specific devices.
	Blocked *bool `pulumi:"blocked"`
	// Override the device fingerprint.
	DevIdOverride *int `pulumi:"devIdOverride"`
	// A static IPv4 address to assign to this client. Ensure this IP is within the client's network range and not already assigned to another device.
	FixedIp *string `pulumi:"fixedIp"`
	// The hostname of the user.
	Hostname *string `pulumi:"hostname"`
	// The IP address of the user.
	Ip *string `pulumi:"ip"`
	// A local DNS hostname for this client. When set, other devices on the network can resolve this name to the client's IP address (e.g., 'printer.local', 'nas.home.arpa'). Such DNS record is automatically added to controller's DNS records.
	LocalDnsRecord *string `pulumi:"localDnsRecord"`
	// The MAC address of the device/client. This is used as the unique identifier and cannot be changed after creation. Must be a valid MAC address format (e.g., '00:11:22:33:44:55'). MAC addresses are case-insensitive.
	Mac *string `pulumi:"mac"`
	// A friendly name for the device/client. This helps identify the device in the UniFi interface (eg. 'Living Room TV', 'John's Laptop').
	Name *string `pulumi:"name"`
	// The ID of the network this client should be associated with. This is particularly important when using VLANs or multiple networks.
	NetworkId *string `pulumi:"networkId"`
	// Additional information about the client that you want to record (e.g., 'Company asset tag #12345', 'Guest device - expires 2024-03-01').
	Note *string `pulumi:"note"`
	// The name of the UniFi site where this user should be managed. If not specified, the default site will be used.
	Site *string `pulumi:"site"`
	// When false (default), the client will be 'forgotten' by the controller when this resource is destroyed. Set to true to keep the client's history in the controller after the resource is removed from Terraform.
	SkipForgetOnDestroy *bool `pulumi:"skipForgetOnDestroy"`
	// The ID of the user group this client belongs to. User groups can be used to apply common settings and restrictions to multiple clients.
	UserGroupId *string `pulumi:"userGroupId"`
}

type UserState struct {
	// Allow this resource to take over management of an existing user in the UniFi controller. When true:
	//   * The resource can manage users that were automatically created when devices connected
	//   * Existing settings will be overwritten with the values specified in this resource
	//   * If false, attempting to manage an existing user will result in an error
	//
	// Use with caution as it can modify settings for devices already connected to your network.
	AllowExisting pulumi.BoolPtrInput
	// When true, this client will be blocked from accessing the network. Useful for temporarily or permanently restricting network access for specific devices.
	Blocked pulumi.BoolPtrInput
	// Override the device fingerprint.
	DevIdOverride pulumi.IntPtrInput
	// A static IPv4 address to assign to this client. Ensure this IP is within the client's network range and not already assigned to another device.
	FixedIp pulumi.StringPtrInput
	// The hostname of the user.
	Hostname pulumi.StringPtrInput
	// The IP address of the user.
	Ip pulumi.StringPtrInput
	// A local DNS hostname for this client. When set, other devices on the network can resolve this name to the client's IP address (e.g., 'printer.local', 'nas.home.arpa'). Such DNS record is automatically added to controller's DNS records.
	LocalDnsRecord pulumi.StringPtrInput
	// The MAC address of the device/client. This is used as the unique identifier and cannot be changed after creation. Must be a valid MAC address format (e.g., '00:11:22:33:44:55'). MAC addresses are case-insensitive.
	Mac pulumi.StringPtrInput
	// A friendly name for the device/client. This helps identify the device in the UniFi interface (eg. 'Living Room TV', 'John's Laptop').
	Name pulumi.StringPtrInput
	// The ID of the network this client should be associated with. This is particularly important when using VLANs or multiple networks.
	NetworkId pulumi.StringPtrInput
	// Additional information about the client that you want to record (e.g., 'Company asset tag #12345', 'Guest device - expires 2024-03-01').
	Note pulumi.StringPtrInput
	// The name of the UniFi site where this user should be managed. If not specified, the default site will be used.
	Site pulumi.StringPtrInput
	// When false (default), the client will be 'forgotten' by the controller when this resource is destroyed. Set to true to keep the client's history in the controller after the resource is removed from Terraform.
	SkipForgetOnDestroy pulumi.BoolPtrInput
	// The ID of the user group this client belongs to. User groups can be used to apply common settings and restrictions to multiple clients.
	UserGroupId pulumi.StringPtrInput
}

func (UserState) ElementType() reflect.Type {
	return reflect.TypeOf((*userState)(nil)).Elem()
}

type userArgs struct {
	// Allow this resource to take over management of an existing user in the UniFi controller. When true:
	//   * The resource can manage users that were automatically created when devices connected
	//   * Existing settings will be overwritten with the values specified in this resource
	//   * If false, attempting to manage an existing user will result in an error
	//
	// Use with caution as it can modify settings for devices already connected to your network.
	AllowExisting *bool `pulumi:"allowExisting"`
	// When true, this client will be blocked from accessing the network. Useful for temporarily or permanently restricting network access for specific devices.
	Blocked *bool `pulumi:"blocked"`
	// Override the device fingerprint.
	DevIdOverride *int `pulumi:"devIdOverride"`
	// A static IPv4 address to assign to this client. Ensure this IP is within the client's network range and not already assigned to another device.
	FixedIp *string `pulumi:"fixedIp"`
	// A local DNS hostname for this client. When set, other devices on the network can resolve this name to the client's IP address (e.g., 'printer.local', 'nas.home.arpa'). Such DNS record is automatically added to controller's DNS records.
	LocalDnsRecord *string `pulumi:"localDnsRecord"`
	// The MAC address of the device/client. This is used as the unique identifier and cannot be changed after creation. Must be a valid MAC address format (e.g., '00:11:22:33:44:55'). MAC addresses are case-insensitive.
	Mac string `pulumi:"mac"`
	// A friendly name for the device/client. This helps identify the device in the UniFi interface (eg. 'Living Room TV', 'John's Laptop').
	Name *string `pulumi:"name"`
	// The ID of the network this client should be associated with. This is particularly important when using VLANs or multiple networks.
	NetworkId *string `pulumi:"networkId"`
	// Additional information about the client that you want to record (e.g., 'Company asset tag #12345', 'Guest device - expires 2024-03-01').
	Note *string `pulumi:"note"`
	// The name of the UniFi site where this user should be managed. If not specified, the default site will be used.
	Site *string `pulumi:"site"`
	// When false (default), the client will be 'forgotten' by the controller when this resource is destroyed. Set to true to keep the client's history in the controller after the resource is removed from Terraform.
	SkipForgetOnDestroy *bool `pulumi:"skipForgetOnDestroy"`
	// The ID of the user group this client belongs to. User groups can be used to apply common settings and restrictions to multiple clients.
	UserGroupId *string `pulumi:"userGroupId"`
}

// The set of arguments for constructing a User resource.
type UserArgs struct {
	// Allow this resource to take over management of an existing user in the UniFi controller. When true:
	//   * The resource can manage users that were automatically created when devices connected
	//   * Existing settings will be overwritten with the values specified in this resource
	//   * If false, attempting to manage an existing user will result in an error
	//
	// Use with caution as it can modify settings for devices already connected to your network.
	AllowExisting pulumi.BoolPtrInput
	// When true, this client will be blocked from accessing the network. Useful for temporarily or permanently restricting network access for specific devices.
	Blocked pulumi.BoolPtrInput
	// Override the device fingerprint.
	DevIdOverride pulumi.IntPtrInput
	// A static IPv4 address to assign to this client. Ensure this IP is within the client's network range and not already assigned to another device.
	FixedIp pulumi.StringPtrInput
	// A local DNS hostname for this client. When set, other devices on the network can resolve this name to the client's IP address (e.g., 'printer.local', 'nas.home.arpa'). Such DNS record is automatically added to controller's DNS records.
	LocalDnsRecord pulumi.StringPtrInput
	// The MAC address of the device/client. This is used as the unique identifier and cannot be changed after creation. Must be a valid MAC address format (e.g., '00:11:22:33:44:55'). MAC addresses are case-insensitive.
	Mac pulumi.StringInput
	// A friendly name for the device/client. This helps identify the device in the UniFi interface (eg. 'Living Room TV', 'John's Laptop').
	Name pulumi.StringPtrInput
	// The ID of the network this client should be associated with. This is particularly important when using VLANs or multiple networks.
	NetworkId pulumi.StringPtrInput
	// Additional information about the client that you want to record (e.g., 'Company asset tag #12345', 'Guest device - expires 2024-03-01').
	Note pulumi.StringPtrInput
	// The name of the UniFi site where this user should be managed. If not specified, the default site will be used.
	Site pulumi.StringPtrInput
	// When false (default), the client will be 'forgotten' by the controller when this resource is destroyed. Set to true to keep the client's history in the controller after the resource is removed from Terraform.
	SkipForgetOnDestroy pulumi.BoolPtrInput
	// The ID of the user group this client belongs to. User groups can be used to apply common settings and restrictions to multiple clients.
	UserGroupId pulumi.StringPtrInput
}

func (UserArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*userArgs)(nil)).Elem()
}

type UserInput interface {
	pulumi.Input

	ToUserOutput() UserOutput
	ToUserOutputWithContext(ctx context.Context) UserOutput
}

func (*User) ElementType() reflect.Type {
	return reflect.TypeOf((**User)(nil)).Elem()
}

func (i *User) ToUserOutput() UserOutput {
	return i.ToUserOutputWithContext(context.Background())
}

func (i *User) ToUserOutputWithContext(ctx context.Context) UserOutput {
	return pulumi.ToOutputWithContext(ctx, i).(UserOutput)
}

// UserArrayInput is an input type that accepts UserArray and UserArrayOutput values.
// You can construct a concrete instance of `UserArrayInput` via:
//
//	UserArray{ UserArgs{...} }
type UserArrayInput interface {
	pulumi.Input

	ToUserArrayOutput() UserArrayOutput
	ToUserArrayOutputWithContext(context.Context) UserArrayOutput
}

type UserArray []UserInput

func (UserArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*User)(nil)).Elem()
}

func (i UserArray) ToUserArrayOutput() UserArrayOutput {
	return i.ToUserArrayOutputWithContext(context.Background())
}

func (i UserArray) ToUserArrayOutputWithContext(ctx context.Context) UserArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(UserArrayOutput)
}

// UserMapInput is an input type that accepts UserMap and UserMapOutput values.
// You can construct a concrete instance of `UserMapInput` via:
//
//	UserMap{ "key": UserArgs{...} }
type UserMapInput interface {
	pulumi.Input

	ToUserMapOutput() UserMapOutput
	ToUserMapOutputWithContext(context.Context) UserMapOutput
}

type UserMap map[string]UserInput

func (UserMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*User)(nil)).Elem()
}

func (i UserMap) ToUserMapOutput() UserMapOutput {
	return i.ToUserMapOutputWithContext(context.Background())
}

func (i UserMap) ToUserMapOutputWithContext(ctx context.Context) UserMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(UserMapOutput)
}

type UserOutput struct{ *pulumi.OutputState }

func (UserOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**User)(nil)).Elem()
}

func (o UserOutput) ToUserOutput() UserOutput {
	return o
}

func (o UserOutput) ToUserOutputWithContext(ctx context.Context) UserOutput {
	return o
}

// Allow this resource to take over management of an existing user in the UniFi controller. When true:
//   - The resource can manage users that were automatically created when devices connected
//   - Existing settings will be overwritten with the values specified in this resource
//   - If false, attempting to manage an existing user will result in an error
//
// Use with caution as it can modify settings for devices already connected to your network.
func (o UserOutput) AllowExisting() pulumi.BoolPtrOutput {
	return o.ApplyT(func(v *User) pulumi.BoolPtrOutput { return v.AllowExisting }).(pulumi.BoolPtrOutput)
}

// When true, this client will be blocked from accessing the network. Useful for temporarily or permanently restricting network access for specific devices.
func (o UserOutput) Blocked() pulumi.BoolPtrOutput {
	return o.ApplyT(func(v *User) pulumi.BoolPtrOutput { return v.Blocked }).(pulumi.BoolPtrOutput)
}

// Override the device fingerprint.
func (o UserOutput) DevIdOverride() pulumi.IntPtrOutput {
	return o.ApplyT(func(v *User) pulumi.IntPtrOutput { return v.DevIdOverride }).(pulumi.IntPtrOutput)
}

// A static IPv4 address to assign to this client. Ensure this IP is within the client's network range and not already assigned to another device.
func (o UserOutput) FixedIp() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *User) pulumi.StringPtrOutput { return v.FixedIp }).(pulumi.StringPtrOutput)
}

// The hostname of the user.
func (o UserOutput) Hostname() pulumi.StringOutput {
	return o.ApplyT(func(v *User) pulumi.StringOutput { return v.Hostname }).(pulumi.StringOutput)
}

// The IP address of the user.
func (o UserOutput) Ip() pulumi.StringOutput {
	return o.ApplyT(func(v *User) pulumi.StringOutput { return v.Ip }).(pulumi.StringOutput)
}

// A local DNS hostname for this client. When set, other devices on the network can resolve this name to the client's IP address (e.g., 'printer.local', 'nas.home.arpa'). Such DNS record is automatically added to controller's DNS records.
func (o UserOutput) LocalDnsRecord() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *User) pulumi.StringPtrOutput { return v.LocalDnsRecord }).(pulumi.StringPtrOutput)
}

// The MAC address of the device/client. This is used as the unique identifier and cannot be changed after creation. Must be a valid MAC address format (e.g., '00:11:22:33:44:55'). MAC addresses are case-insensitive.
func (o UserOutput) Mac() pulumi.StringOutput {
	return o.ApplyT(func(v *User) pulumi.StringOutput { return v.Mac }).(pulumi.StringOutput)
}

// A friendly name for the device/client. This helps identify the device in the UniFi interface (eg. 'Living Room TV', 'John's Laptop').
func (o UserOutput) Name() pulumi.StringOutput {
	return o.ApplyT(func(v *User) pulumi.StringOutput { return v.Name }).(pulumi.StringOutput)
}

// The ID of the network this client should be associated with. This is particularly important when using VLANs or multiple networks.
func (o UserOutput) NetworkId() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *User) pulumi.StringPtrOutput { return v.NetworkId }).(pulumi.StringPtrOutput)
}

// Additional information about the client that you want to record (e.g., 'Company asset tag #12345', 'Guest device - expires 2024-03-01').
func (o UserOutput) Note() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *User) pulumi.StringPtrOutput { return v.Note }).(pulumi.StringPtrOutput)
}

// The name of the UniFi site where this user should be managed. If not specified, the default site will be used.
func (o UserOutput) Site() pulumi.StringOutput {
	return o.ApplyT(func(v *User) pulumi.StringOutput { return v.Site }).(pulumi.StringOutput)
}

// When false (default), the client will be 'forgotten' by the controller when this resource is destroyed. Set to true to keep the client's history in the controller after the resource is removed from Terraform.
func (o UserOutput) SkipForgetOnDestroy() pulumi.BoolPtrOutput {
	return o.ApplyT(func(v *User) pulumi.BoolPtrOutput { return v.SkipForgetOnDestroy }).(pulumi.BoolPtrOutput)
}

// The ID of the user group this client belongs to. User groups can be used to apply common settings and restrictions to multiple clients.
func (o UserOutput) UserGroupId() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *User) pulumi.StringPtrOutput { return v.UserGroupId }).(pulumi.StringPtrOutput)
}

type UserArrayOutput struct{ *pulumi.OutputState }

func (UserArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*User)(nil)).Elem()
}

func (o UserArrayOutput) ToUserArrayOutput() UserArrayOutput {
	return o
}

func (o UserArrayOutput) ToUserArrayOutputWithContext(ctx context.Context) UserArrayOutput {
	return o
}

func (o UserArrayOutput) Index(i pulumi.IntInput) UserOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *User {
		return vs[0].([]*User)[vs[1].(int)]
	}).(UserOutput)
}

type UserMapOutput struct{ *pulumi.OutputState }

func (UserMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*User)(nil)).Elem()
}

func (o UserMapOutput) ToUserMapOutput() UserMapOutput {
	return o
}

func (o UserMapOutput) ToUserMapOutputWithContext(ctx context.Context) UserMapOutput {
	return o
}

func (o UserMapOutput) MapIndex(k pulumi.StringInput) UserOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *User {
		return vs[0].(map[string]*User)[vs[1].(string)]
	}).(UserOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*UserInput)(nil)).Elem(), &User{})
	pulumi.RegisterInputType(reflect.TypeOf((*UserArrayInput)(nil)).Elem(), UserArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*UserMapInput)(nil)).Elem(), UserMap{})
	pulumi.RegisterOutputType(UserOutput{})
	pulumi.RegisterOutputType(UserArrayOutput{})
	pulumi.RegisterOutputType(UserMapOutput{})
}
